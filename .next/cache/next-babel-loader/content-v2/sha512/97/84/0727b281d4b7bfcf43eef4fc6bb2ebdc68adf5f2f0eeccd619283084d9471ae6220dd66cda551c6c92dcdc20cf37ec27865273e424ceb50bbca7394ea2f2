{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createSelector } from \"reselect\";\nimport { selectProductsList } from \"modules/Shop/selectors\";\n\nvar getCartState = function getCartState(state) {\n  return state.cart;\n};\n\nexport var selectCartProducts = createSelector([getCartState], function (_ref) {\n  var products = _ref.products;\n  return products;\n});\nexport var selectCartProductsItems = createSelector([selectCartProducts], function (_ref2) {\n  var items = _ref2.items;\n  return items;\n});\nexport var selectCartProductsTotal = createSelector([selectCartProducts], function (_ref3) {\n  var total = _ref3.total;\n  return total;\n});\nexport var selectCartProductsData = createSelector([selectCartProductsItems, selectProductsList], function (items, products) {\n  var buyingItemsId = Object.keys(items).filter(function (key) {\n    return items[key].count > 0;\n  });\n  var buyingProducts = products.filter(function (_ref4) {\n    var _id = _ref4._id;\n    return buyingItemsId.includes(_id);\n  });\n  return buyingProducts.map(function (product) {\n    var _id = product._id,\n        price = product.price;\n    var countInCart = items[_id].count;\n    var totalPrice = countInCart * price;\n    return _objectSpread(_objectSpread({}, product), {}, {\n      countInCart: countInCart,\n      totalPrice: totalPrice\n    });\n  });\n});","map":{"version":3,"sources":["/home/oleg/PhpstormProjects/NextStarterKit/src/modules/Cart/selectors/index.jsx"],"names":["createSelector","selectProductsList","getCartState","state","cart","selectCartProducts","products","selectCartProductsItems","items","selectCartProductsTotal","total","selectCartProductsData","buyingItemsId","Object","keys","filter","key","count","buyingProducts","_id","includes","map","product","price","countInCart","totalPrice"],"mappings":";;;;;;AACA,SAASA,cAAT,QAA+B,UAA/B;AACA,SAASC,kBAAT,QAAmC,wBAAnC;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC5B,SAAOA,KAAK,CAACC,IAAb;AACH,CAFD;;AAIA,OAAO,IAAMC,kBAAuB,GAAGL,cAAc,CACjD,CAACE,YAAD,CADiD,EAEjD;AAAA,MAAGI,QAAH,QAAGA,QAAH;AAAA,SAAkBA,QAAlB;AAAA,CAFiD,CAA9C;AAKP,OAAO,IAAMC,uBAA4B,GAAGP,cAAc,CACtD,CAACK,kBAAD,CADsD,EAEtD;AAAA,MAAGG,KAAH,SAAGA,KAAH;AAAA,SAAeA,KAAf;AAAA,CAFsD,CAAnD;AAKP,OAAO,IAAMC,uBAA4B,GAAGT,cAAc,CACtD,CAACK,kBAAD,CADsD,EAEtD;AAAA,MAAGK,KAAH,SAAGA,KAAH;AAAA,SAAeA,KAAf;AAAA,CAFsD,CAAnD;AAKP,OAAO,IAAMC,sBAA2B,GAAGX,cAAc,CACrD,CAACO,uBAAD,EAA0BN,kBAA1B,CADqD,EAErD,UAACO,KAAD,EAAQF,QAAR,EAAqB;AACjB,MAAMM,aAAa,GAAGC,MAAM,CAACC,IAAP,CAAYN,KAAZ,EAAmBO,MAAnB,CAA0B,UAACC,GAAD,EAAS;AACrD,WAAOR,KAAK,CAACQ,GAAD,CAAL,CAAWC,KAAX,GAAmB,CAA1B;AACH,GAFqB,CAAtB;AAGA,MAAMC,cAAc,GAAGZ,QAAQ,CAACS,MAAT,CAAgB;AAAA,QAAGI,GAAH,SAAGA,GAAH;AAAA,WACnCP,aAAa,CAACQ,QAAd,CAAuBD,GAAvB,CADmC;AAAA,GAAhB,CAAvB;AAGA,SAAOD,cAAc,CAACG,GAAf,CAAmB,UAACC,OAAD,EAAa;AAAA,QAC3BH,GAD2B,GACZG,OADY,CAC3BH,GAD2B;AAAA,QACtBI,KADsB,GACZD,OADY,CACtBC,KADsB;AAEnC,QAAMC,WAAW,GAAGhB,KAAK,CAACW,GAAD,CAAL,CAAWF,KAA/B;AACA,QAAMQ,UAAU,GAAGD,WAAW,GAAGD,KAAjC;AAEA,2CACOD,OADP;AAEIE,MAAAA,WAAW,EAAXA,WAFJ;AAGIC,MAAAA,UAAU,EAAVA;AAHJ;AAKH,GAVM,CAAP;AAWH,CApBoD,CAAlD","sourcesContent":["// @flow\nimport { createSelector } from \"reselect\";\nimport { selectProductsList } from \"modules/Shop/selectors\";\n\nconst getCartState = (state) => {\n    return state.cart;\n};\n\nexport const selectCartProducts: any = createSelector(\n    [getCartState],\n    ({ products }) => products\n);\n\nexport const selectCartProductsItems: any = createSelector(\n    [selectCartProducts],\n    ({ items }) => items\n);\n\nexport const selectCartProductsTotal: any = createSelector(\n    [selectCartProducts],\n    ({ total }) => total\n);\n\nexport const selectCartProductsData: any = createSelector(\n    [selectCartProductsItems, selectProductsList],\n    (items, products) => {\n        const buyingItemsId = Object.keys(items).filter((key) => {\n            return items[key].count > 0;\n        });\n        const buyingProducts = products.filter(({ _id }) =>\n            buyingItemsId.includes(_id)\n        );\n        return buyingProducts.map((product) => {\n            const { _id, price } = product;\n            const countInCart = items[_id].count;\n            const totalPrice = countInCart * price;\n\n            return {\n                ...product,\n                countInCart,\n                totalPrice,\n            };\n        });\n    }\n);\n"]},"metadata":{},"sourceType":"module"}