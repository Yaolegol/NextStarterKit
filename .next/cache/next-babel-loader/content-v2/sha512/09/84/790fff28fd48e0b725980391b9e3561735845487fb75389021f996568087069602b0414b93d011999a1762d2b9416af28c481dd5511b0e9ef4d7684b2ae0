{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport cn from \"classnames\";\nimport { CustomLink } from \"common/components/Link\";\nimport { MenuItem } from \"common/components/Menu/MenuItem\";\nimport { actionLogout } from \"modules/Auth/actions\";\nimport { actionHideMobileMenu } from \"modules/MobileMenu/actions\";\nimport { selectMobileMenuShowStatus } from \"modules/MobileMenu/selectors\";\nimport { selectUser } from \"modules/User/selectors\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.less\";\nexport var Menu = function Menu(_ref) {\n  _s();\n\n  var className = _ref.className;\n  var dispatch = useDispatch();\n  var user = useSelector(selectUser);\n  var isMobileMenuShowing = useSelector(selectMobileMenuShowStatus);\n  var hideMobileMenu = useCallback(function () {\n    if (isMobileMenuShowing) {\n      dispatch(actionHideMobileMenu());\n    }\n  }, [dispatch, isMobileMenuShowing]);\n  var logout = useCallback(function () {\n    dispatch(actionLogout());\n    hideMobileMenu();\n  }, [dispatch, hideMobileMenu]);\n  var adminLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      url: \"/admin\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.adminDashboard\"\n    })))));\n  }, [hideMobileMenu]);\n  var registeredLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      url: \"/profile\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.profile\"\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu__button\",\n      onClick: logout\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.logOut\"\n    }))));\n  }, [hideMobileMenu, logout]);\n  var unregisteredLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      url: \"/signup\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.signUp\"\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      url: \"/login\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.logIn\"\n    })))));\n  }, [hideMobileMenu]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cn(\"menu\", className)\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hideMobileMenu\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    activeClassName: \"menu__link_active\",\n    exact: true,\n    className: \"menu__link\",\n    url: \"/\"\n  }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"common.menu.mainPage\"\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hideMobileMenu\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    activeClassName: \"menu__link_active\",\n    className: \"menu__link\",\n    url: \"/shop\"\n  }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"common.menu.shopPage\"\n  })))), user && user.admin ? adminLinks : null, user ? registeredLinks : unregisteredLinks);\n};\n\n_s(Menu, \"/MTkR9KboSO8GI3SGhyNwuudADE=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["/home/oleg/PhpstormProjects/NextStarterKit/src/common/components/Menu/index.jsx"],"names":["Menu","className","dispatch","useDispatch","user","useSelector","isMobileMenuShowing","hideMobileMenu","useCallback","actionHideMobileMenu","logout","actionLogout","adminLinks","useMemo","registeredLinks","unregisteredLinks","cn"],"mappings":"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","sourcesContent":["// @flow\nimport cn from \"classnames\";\nimport { CustomLink } from \"common/components/Link\";\nimport { MenuItem } from \"common/components/Menu/MenuItem\";\nimport { actionLogout } from \"modules/Auth/actions\";\nimport { actionHideMobileMenu } from \"modules/MobileMenu/actions\";\nimport { selectMobileMenuShowStatus } from \"modules/MobileMenu/selectors\";\nimport { selectUser } from \"modules/User/selectors\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.less\";\n\ntype TProps = {\n    className?: string,\n};\n\nexport const Menu = ({ className }: TProps): React$Node => {\n    const dispatch = useDispatch();\n    const user = useSelector(selectUser);\n    const isMobileMenuShowing = useSelector(selectMobileMenuShowStatus);\n\n    const hideMobileMenu = useCallback(() => {\n        if (isMobileMenuShowing) {\n            dispatch(actionHideMobileMenu());\n        }\n    }, [dispatch, isMobileMenuShowing]);\n\n    const logout = useCallback(() => {\n        dispatch(actionLogout());\n        hideMobileMenu();\n    }, [dispatch, hideMobileMenu]);\n\n    const adminLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        url=\"/admin\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.adminDashboard\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu]);\n\n    const registeredLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        url=\"/profile\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.profile\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n                <button className=\"menu__button\" onClick={logout}>\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.logOut\" />\n                    </MenuItem>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu, logout]);\n\n    const unregisteredLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        url=\"/signup\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.signUp\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        url=\"/login\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.logIn\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu]);\n\n    return (\n        <div className={cn(\"menu\", className)}>\n            <button onClick={hideMobileMenu}>\n                <CustomLink\n                    activeClassName=\"menu__link_active\"\n                    exact={true}\n                    className=\"menu__link\"\n                    url=\"/\"\n                >\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.mainPage\" />\n                    </MenuItem>\n                </CustomLink>\n            </button>\n            <button onClick={hideMobileMenu}>\n                <CustomLink\n                    activeClassName=\"menu__link_active\"\n                    className=\"menu__link\"\n                    url=\"/shop\"\n                >\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.shopPage\" />\n                    </MenuItem>\n                </CustomLink>\n            </button>\n            {user && user.admin ? adminLinks : null}\n            {user ? registeredLinks : unregisteredLinks}\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}