{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { debounce } from \"common/helpers/debounce\";\nimport { actionGetProducts, actionSetProductsFilter } from \"modules/Shop/actions\";\nimport { PriceFilter } from \"modules/Shop/components/Filters/PriceFilter\";\nimport React, { useCallback, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch } from \"react-redux\";\nimport \"./index.less\";\nexport var Filters = function Filters() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useState = useState([0, 10000]),\n      _useState2 = _slicedToArray(_useState, 2),\n      priceFilterValue = _useState2[0],\n      setPriceFilterValue = _useState2[1];\n\n  var getProducts = useCallback(function (val) {\n    return function () {\n      dispatch(actionSetProductsFilter({\n        price: val\n      }));\n      dispatch(actionGetProducts());\n    };\n  }, [dispatch]);\n  var onPriceFilterChange = useCallback(function (val) {\n    setPriceFilterValue(val);\n    debounce({\n      action: getProducts(val),\n      id: \"filters\",\n      time: 500\n    });\n  }, [getProducts]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-page-filters\"\n  }, /*#__PURE__*/React.createElement(\"h6\", null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"common.filters\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-page-filters__container\"\n  }, /*#__PURE__*/React.createElement(PriceFilter, {\n    initialValues: [0, 10000],\n    max: 10000,\n    onChange: onPriceFilterChange,\n    values: priceFilterValue\n  })));\n};\n\n_s(Filters, \"jEUsh/hpmSpRhrOPH7XBMN+tAsU=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Filters;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filters\");","map":{"version":3,"sources":["/home/oleg/PhpstormProjects/NextStarterKit/src/modules/Shop/components/Filters/index.jsx"],"names":["Filters","dispatch","useDispatch","priceFilterValue","setPriceFilterValue","useState","getProducts","useCallback","actionSetProductsFilter","price","val","actionGetProducts","onPriceFilterChange","debounce","action","id","time"],"mappings":";;;AACA,SAAA,QAAA,QAAA,yBAAA;AACA,SAAA,iBAAA,EAAA,uBAAA,QAAA,sBAAA;AAIA,SAAA,WAAA,QAAA,6CAAA;AACA,OAAA,KAAA,IAAA,WAAA,EAAA,QAAA,QAAA,OAAA;AACA,SAAA,gBAAA,QAAA,YAAA;AACA,SAAA,WAAA,QAAA,aAAA;AACA,OAAA,cAAA;AAEA,OAAO,IAAMA,OAAO,GAAG,SAAVA,OAAU,GAAkB;AAAA;;AACrC,MAAMC,QAAQ,GAAGC,WAAjB,EAAA;;AADqC,MAAA,SAAA,GAEWG,QAAQ,CAAC,CAAA,CAAA,EAFpB,KAEoB,CAAD,CAFnB;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAE9BF,gBAF8B,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAEZC,mBAFY,GAAA,UAAA,CAAA,CAAA,CAAA;;AAIrC,MAAME,WAAW,GAAGC,WAAW,CAC3B,UAAA,GAAA,EAAA;AAAA,WAAS,YAAM;AACXN,MAAAA,QAAQ,CACJO,uBAAuB,CAAC;AACpBC,QAAAA,KAAK,EAAEC;AADa,OAAD,CADnB,CAART;AAKAA,MAAAA,QAAQ,CAACU,iBAATV,EAAQ,CAARA;AANJ,KAAA;AAD2B,GAAA,EAS3B,CATJ,QASI,CAT2B,CAA/B;AAYA,MAAMW,mBAAmB,GAAGL,WAAW,CACnC,UAAA,GAAA,EAAS;AACLH,IAAAA,mBAAmB,CAAnBA,GAAmB,CAAnBA;AACAS,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,MAAM,EAAER,WAAW,CAArB,GAAqB,CAArB;AAA4BS,MAAAA,EAAE,EAA9B,SAAA;AAA2CC,MAAAA,IAAI,EAAE;AAAjD,KAAD,CAARH;AAH+B,GAAA,EAKnC,CALJ,WAKI,CALmC,CAAvC;AAQA,SAAA,aACI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAAA,aACI,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,EAAA,aACI,KAAA,CAAA,aAAA,CAAA,gBAAA,EAAA;AAAkB,IAAA,EAAE,EAAC;AAArB,GAAA,CADJ,CADJ,EAAA,aAII,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAAA,aACI,KAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AACI,IAAA,aAAa,EAAE,CAAA,CAAA,EADnB,KACmB,CADnB;AAEI,IAAA,GAAG,EAFP,KAAA;AAGI,IAAA,QAAQ,EAHZ,mBAAA;AAII,IAAA,MAAM,EAAEV;AAJZ,GAAA,CADJ,CAJJ,CADJ;AAxBG,CAAA;;GAAMH,O;UACQE,W;;;KADRF,O","sourcesContent":["// @flow\nimport { debounce } from \"common/helpers/debounce\";\nimport {\n    actionGetProducts,\n    actionSetProductsFilter,\n} from \"modules/Shop/actions\";\nimport { PriceFilter } from \"modules/Shop/components/Filters/PriceFilter\";\nimport React, { useCallback, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch } from \"react-redux\";\nimport \"./index.less\";\n\nexport const Filters = (): React$Node => {\n    const dispatch = useDispatch();\n    const [priceFilterValue, setPriceFilterValue] = useState([0, 10000]);\n\n    const getProducts = useCallback(\n        (val) => () => {\n            dispatch(\n                actionSetProductsFilter({\n                    price: val,\n                })\n            );\n            dispatch(actionGetProducts());\n        },\n        [dispatch]\n    );\n\n    const onPriceFilterChange = useCallback(\n        (val) => {\n            setPriceFilterValue(val);\n            debounce({ action: getProducts(val), id: \"filters\", time: 500 });\n        },\n        [getProducts]\n    );\n\n    return (\n        <div className=\"shop-page-filters\">\n            <h6>\n                <FormattedMessage id=\"common.filters\" />\n            </h6>\n            <div className=\"shop-page-filters__container\">\n                <PriceFilter\n                    initialValues={[0, 10000]}\n                    max={10000}\n                    onChange={onPriceFilterChange}\n                    values={priceFilterValue}\n                />\n            </div>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}