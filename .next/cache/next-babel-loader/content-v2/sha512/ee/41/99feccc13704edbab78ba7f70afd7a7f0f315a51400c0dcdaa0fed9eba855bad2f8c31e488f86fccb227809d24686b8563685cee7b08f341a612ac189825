{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport cn from \"classnames\";\nimport { CustomLink } from \"common/components/Link\";\nimport { MenuItem } from \"common/components/Menu/MenuItem\";\nimport { actionLogout } from \"modules/Auth/actions\";\nimport { actionHideMobileMenu } from \"modules/MobileMenu/actions\";\nimport { selectMobileMenuShowStatus } from \"modules/MobileMenu/selectors\";\nimport { selectUser } from \"modules/User/selectors\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.less\";\nexport var Menu = function Menu(_ref) {\n  _s();\n\n  var className = _ref.className;\n  var dispatch = useDispatch();\n  var user = useSelector(selectUser);\n  var isMobileMenuShowing = useSelector(selectMobileMenuShowStatus);\n  var hideMobileMenu = useCallback(function () {\n    if (isMobileMenuShowing) {\n      dispatch(actionHideMobileMenu());\n    }\n  }, [dispatch, isMobileMenuShowing]);\n  var logout = useCallback(function () {\n    dispatch(actionLogout());\n    hideMobileMenu();\n  }, [dispatch, hideMobileMenu]);\n  var adminLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      to: \"/admin\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.adminDashboard\"\n    })))));\n  }, [hideMobileMenu]);\n  var registeredLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      to: \"/profile\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.profile\"\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu__button\",\n      onClick: logout\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.logOut\"\n    }))));\n  }, [hideMobileMenu, logout]);\n  var unregisteredLinks = useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      to: \"/signup\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.signUp\"\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: hideMobileMenu\n    }, /*#__PURE__*/React.createElement(CustomLink, {\n      activeClassName: \"menu__link_active\",\n      className: \"menu__link\",\n      to: \"/login\"\n    }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"common.menu.logIn\"\n    })))));\n  }, [hideMobileMenu]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cn(\"menu\", className)\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hideMobileMenu\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    activeClassName: \"menu__link_active\",\n    exact: true,\n    className: \"menu__link\",\n    to: \"/\"\n  }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"common.menu.mainPage\"\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: hideMobileMenu\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    activeClassName: \"menu__link_active\",\n    className: \"menu__link\",\n    to: \"/shop\"\n  }, /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"common.menu.shopPage\"\n  })))), user && user.admin ? adminLinks : null, user ? registeredLinks : unregisteredLinks);\n};\n\n_s(Menu, \"/MTkR9KboSO8GI3SGhyNwuudADE=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["/home/oleg/PhpstormProjects/NextStarterKit/src/common/components/Menu/index.jsx"],"names":["cn","CustomLink","MenuItem","actionLogout","actionHideMobileMenu","selectMobileMenuShowStatus","selectUser","React","useCallback","useMemo","FormattedMessage","useDispatch","useSelector","Menu","className","dispatch","user","isMobileMenuShowing","hideMobileMenu","logout","adminLinks","registeredLinks","unregisteredLinks","admin"],"mappings":"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","sourcesContent":["// @flow\nimport cn from \"classnames\";\nimport { CustomLink } from \"common/components/Link\";\nimport { MenuItem } from \"common/components/Menu/MenuItem\";\nimport { actionLogout } from \"modules/Auth/actions\";\nimport { actionHideMobileMenu } from \"modules/MobileMenu/actions\";\nimport { selectMobileMenuShowStatus } from \"modules/MobileMenu/selectors\";\nimport { selectUser } from \"modules/User/selectors\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.less\";\n\ntype TProps = {\n    className?: string,\n};\n\nexport const Menu = ({ className }: TProps): React$Node => {\n    const dispatch = useDispatch();\n    const user = useSelector(selectUser);\n    const isMobileMenuShowing = useSelector(selectMobileMenuShowStatus);\n\n    const hideMobileMenu = useCallback(() => {\n        if (isMobileMenuShowing) {\n            dispatch(actionHideMobileMenu());\n        }\n    }, [dispatch, isMobileMenuShowing]);\n\n    const logout = useCallback(() => {\n        dispatch(actionLogout());\n        hideMobileMenu();\n    }, [dispatch, hideMobileMenu]);\n\n    const adminLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        to=\"/admin\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.adminDashboard\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu]);\n\n    const registeredLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        to=\"/profile\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.profile\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n                <button className=\"menu__button\" onClick={logout}>\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.logOut\" />\n                    </MenuItem>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu, logout]);\n\n    const unregisteredLinks = useMemo(() => {\n        return (\n            <>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        to=\"/signup\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.signUp\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n                <button onClick={hideMobileMenu}>\n                    <CustomLink\n                        activeClassName=\"menu__link_active\"\n                        className=\"menu__link\"\n                        to=\"/login\"\n                    >\n                        <MenuItem>\n                            <FormattedMessage id=\"common.menu.logIn\" />\n                        </MenuItem>\n                    </CustomLink>\n                </button>\n            </>\n        );\n    }, [hideMobileMenu]);\n\n    return (\n        <div className={cn(\"menu\", className)}>\n            <button onClick={hideMobileMenu}>\n                <CustomLink\n                    activeClassName=\"menu__link_active\"\n                    exact={true}\n                    className=\"menu__link\"\n                    to=\"/\"\n                >\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.mainPage\" />\n                    </MenuItem>\n                </CustomLink>\n            </button>\n            <button onClick={hideMobileMenu}>\n                <CustomLink\n                    activeClassName=\"menu__link_active\"\n                    className=\"menu__link\"\n                    to=\"/shop\"\n                >\n                    <MenuItem>\n                        <FormattedMessage id=\"common.menu.shopPage\" />\n                    </MenuItem>\n                </CustomLink>\n            </button>\n            {user && user.admin ? adminLinks : null}\n            {user ? registeredLinks : unregisteredLinks}\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}