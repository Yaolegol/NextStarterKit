{"ast":null,"code":"var debouncingProcesses = [];\n\nvar checkProcessStatus = function checkProcessStatus(_ref) {\n  var id = _ref.id,\n      time = _ref.time;\n  setTimeout(function () {\n    var process = debouncingProcesses.find(function (_ref2) {\n      var _id = _ref2.id;\n      return _id === id;\n    });\n\n    if (process) {\n      var action = process.action,\n          _time = process.time;\n\n      if (Date.now() >= _time) {\n        action();\n      }\n    }\n  }, time);\n};\n\nexport var debounce = function debounce(_ref3) {\n  var action = _ref3.action,\n      id = _ref3.id,\n      time = _ref3.time;\n  var process = debouncingProcesses.find(function (_ref4) {\n    var _id = _ref4.id;\n    return _id === id;\n  });\n  var timeToAction = Date.now() + time;\n\n  if (!process) {\n    debouncingProcesses.push({\n      action: action,\n      id: id,\n      time: timeToAction\n    });\n    checkProcessStatus({\n      id: id,\n      time: time\n    });\n  } else {\n    process.time = timeToAction;\n    process.action = action;\n    checkProcessStatus({\n      id: id,\n      time: time\n    });\n  }\n};","map":{"version":3,"sources":["/home/oleg/PhpstormProjects/NextStarterKit/src/common/helpers/debounce.js"],"names":["debouncingProcesses","checkProcessStatus","id","time","setTimeout","process","_id","action","Date","debounce","timeToAction"],"mappings":"AACA,IAAMA,mBAAmB,GAAzB,EAAA;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA,IAAA,EAAkB;AAAA,MAAfC,EAAe,GAAA,IAAA,CAAfA,EAAe;AAAA,MAAXC,IAAW,GAAA,IAAA,CAAXA,IAAW;AACzCC,EAAAA,UAAU,CAAC,YAAM;AACb,QAAMC,OAAO,GAAG,mBAAmB,CAAnB,IAAA,CAAyB,UAAA,KAAA,EAAA;AAAA,UAAOC,GAAP,GAAA,KAAA,CAAA,EAAA;AAAA,aAAiBA,GAAG,KAApB,EAAA;AAAzC,KAAgB,CAAhB;;AAEA,QAAA,OAAA,EAAa;AAAA,UACDC,MADC,GACgBF,OADhB,CAAA,MAAA;AAAA,UACOF,KADP,GACgBE,OADhB,CAAA,IAAA;;AAGT,UAAIG,IAAI,CAAJA,GAAAA,MAAJ,KAAA,EAAwB;AACpBD,QAAAA,MAAM;AACT;AACJ;AATK,GAAA,EAAVH,IAAU,CAAVA;AADJ,CAAA;;AAoBA,OAAO,IAAMK,QAAQ,GAAG,SAAXA,QAAW,CAAA,KAAA,EAA+C;AAAA,MAA5CF,MAA4C,GAAA,KAAA,CAA5CA,MAA4C;AAAA,MAApCL,EAAoC,GAAA,KAAA,CAApCA,EAAoC;AAAA,MAAhCC,IAAgC,GAAA,KAAA,CAAhCA,IAAgC;AACnE,MAAME,OAAO,GAAG,mBAAmB,CAAnB,IAAA,CAAyB,UAAA,KAAA,EAAA;AAAA,QAAOC,GAAP,GAAA,KAAA,CAAA,EAAA;AAAA,WAAiBA,GAAG,KAApB,EAAA;AAAzC,GAAgB,CAAhB;AACA,MAAMI,YAAY,GAAGF,IAAI,CAAJA,GAAAA,KAArB,IAAA;;AACA,MAAI,CAAJ,OAAA,EAAc;AACVR,IAAAA,mBAAmB,CAAnBA,IAAAA,CAAyB;AACrBO,MAAAA,MAAM,EADe,MAAA;AAErBL,MAAAA,EAAE,EAFmB,EAAA;AAGrBC,MAAAA,IAAI,EAAEO;AAHe,KAAzBV;AAMAC,IAAAA,kBAAkB,CAAC;AAAEC,MAAAA,EAAE,EAAJ,EAAA;AAAMC,MAAAA,IAAI,EAAJA;AAAN,KAAD,CAAlBF;AAPJ,GAAA,MAQO;AACHI,IAAAA,OAAO,CAAPA,IAAAA,GAAAA,YAAAA;AACAA,IAAAA,OAAO,CAAPA,MAAAA,GAAAA,MAAAA;AAEAJ,IAAAA,kBAAkB,CAAC;AAAEC,MAAAA,EAAE,EAAJ,EAAA;AAAMC,MAAAA,IAAI,EAAJA;AAAN,KAAD,CAAlBF;AACH;AAhBE,CAAA","sourcesContent":["// @flow\nconst debouncingProcesses = [];\n\nconst checkProcessStatus = ({ id, time }) => {\n    setTimeout(() => {\n        const process = debouncingProcesses.find(({ id: _id }) => _id === id);\n\n        if (process) {\n            const { action, time } = process;\n\n            if (Date.now() >= time) {\n                action();\n            }\n        }\n    }, time);\n};\n\ntype TDebounceProps = {\n    action: () => void,\n    id: string,\n    time: number,\n};\n\nexport const debounce = ({ action, id, time }: TDebounceProps): any => {\n    const process = debouncingProcesses.find(({ id: _id }) => _id === id);\n    const timeToAction = Date.now() + time;\n    if (!process) {\n        debouncingProcesses.push({\n            action,\n            id,\n            time: timeToAction,\n        });\n\n        checkProcessStatus({ id, time });\n    } else {\n        process.time = timeToAction;\n        process.action = action;\n\n        checkProcessStatus({ id, time });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}